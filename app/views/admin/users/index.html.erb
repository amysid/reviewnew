<h1>User Management</h1>
<div class="box box-default">
    <div class="box-header with-border">
        <h3 class="box-title">Users List:</h3>
        <div>Total no of users:
            <%#= @users_count %>
        </div>
        <!-- <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-remove"></i></button>
            </div> -->
    </div>
    <!-- /.box-header -->
    <%#= form_with scope: :search, url: admin_users_path,method: :get,autocomplete: :off,local: true do |f| %>
    <div class="box-body">
        <div class="row">
            <!-- /.col -->
            <div class="col-md-3">
                <!-- /.form-group -->
                <div class="form-group">
                    <label>Search by Email or Name:</label>
                    <!-- <label>Select Account:</label> -->
                    <%#= f.text_field :search, class:"form-control",placeholder:"Search",value: (params.dig :search, :search), :autocomplete => :off %>
                </div>
                <!-- /.form-group -->
            </div>
            <!-- /.col -->
            <div class="col-md-2">
                <!-- /.form-group -->
                <div class="form-group">
                    <label>Select status:</label>
                    <%#= f.select(:status, options_for_select([["Active",true],["Blocked",false]],(params.dig :search, :status)) , {:include_blank => "Select Status"}, {:class => "form-control"} ) %>
                </div>
            </div>
            <!-- /.form-group -->
            <div class="col-md-2">
                <!-- /.form-group -->
                <div class="form-group">
                    <label>From date:</label>
                    <div class="input-group date">
                        <div class="input-group-addon">
                            <em class="fa fa-calendar"></em>
                        </div>
                        <%#= f.text_field :start,class: "form-control datetimepicker_start",placeholder:"Select Date",value: (params.dig :search, :start), autocomplete: :off,data: { provide: 'datepicker'} %>
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <!-- /.form-group -->
                <div class="form-group">
                    <label>To date:</label>
                    <div class="input-group date">
                        <div class="input-group-addon">
                            <em class="fa fa-calendar"></em>
                        </div>
                        <%#= f.text_field :end,class: "form-control datetimepicker_end",placeholder:"Select Date",value: (params.dig :search, :end),data:{provide: 'datepicker'}, :autocomplete => :off %>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <!-- /.form-group -->
                <div class="col-md-6">
                    <div class="form-group">
                        <label>&nbsp;</label>
                        <%#= f.submit "Search", class: "btn btn-block btn-primary" %>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label>&nbsp;</label>
                        <%#= link_to '<button class="btn btn-block btn-danger" type="button">Cancel</button>'.html_safe ,admin_users_path %>
                    </div>
                </div>
                <!-- /.form-group -->
            </div>
            <!-- /.col -->
            <!-- /.row -->
        </div>
    </div>
    <%# end %>
    <div class="box-body table-responsive no-padding">
        <table class="table table-hover">
            <tbody>
                <tr>
                    <th>Sno.</th>
                    <th>Name</th>
                    <th>User Type</th>
                    <th>Email-id</th>
                    <th>Phone No.</th>
                    <th>Registration date</th>
                    <th>Actions</th>
                </tr>
                <%#= '<tr colspan="$(".table")[0].rows[0].cells.length" ><td>No user found</td></tr>'.html_safe  if @users.blank? %>
                <%# index = get_sno %>
                <% @users.each do |user| %>
                <tr>
                    <td>
                        <%= @sr_no+=1 %>
                    </td>
                    <td>
                        <%= user.name %>
                    </td>
                    <td>
                       None
                    </td>
                    <td>
                        <%= user.email %>
                    </td>
                    <td>
                        <%= user.mobile_no %>
                    </td>
                    <td>
                        <%= user.created_at %>
                    </td>
                    <td>
                        <%#= link_to '<em class="fa fa-eye" aria-hidden="true"></em>'.html_safe, admin_users_show_path, class:"btn btn-sm btn-success",title: "View"%>
                        <%#= link_to '<em class="fa fa-edit" aria-hidden="true"></em>'.html_safe, edit_admin_user_path(admin_user), class:"btn btn-sm btn-primary" ,title: "Edit" %>
                        <%#= user.block_btn %>
                    </td>
                </tr>
                <% end %>
            </tbody>
        </table>
    </div>
    <!-- /.box-body -->
    <div class="box-footer">
        <div class="digg_pagination pull-right">
            <%#= will_paginate @users %>
        </div>
    </div>
</div>

